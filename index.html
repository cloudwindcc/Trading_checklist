<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交易起飞前检查清单 - Trading Pre-Flight Checklist</title>
    <meta name="description" content="专业股票/加密货币交易检查清单，包含市场供需分析功能">
    <meta name="keywords" content="交易检查清单,股票交易,加密货币,风险管理,供需分析">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .header p {
            opacity: 0.8;
            font-size: 16px;
            position: relative;
            z-index: 1;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .checklist-section {
            padding: 30px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .checklist-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .checklist-item.completed {
            background: #f8fff8;
            border-color: #27ae60;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
            position: relative;
        }

        .checklist-item.completed .checkbox {
            background: #27ae60;
            border-color: #27ae60;
        }

        .checkbox::after {
            content: '✓';
            color: white;
            font-weight: bold;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .checklist-item.completed .checkbox::after {
            opacity: 1;
        }

        .item-content {
            flex: 1;
        }

        .item-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .item-description {
            color: #7f8c8d;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .supply-demand-analysis {
            background: #f8f9ff;
            border: 1px solid #e0e6ff;
            border-radius: 8px;
            padding: 10px;
            margin-top: 8px;
        }

        .supply-demand-title {
            font-weight: 600;
            color: #667eea;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .factor-list {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .factor-item {
            display: flex;
            align-items: center;
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 10px;
        }

        .bullish-factor {
            background: #e8f5e8;
            color: #27ae60;
            border-left: 3px solid #27ae60;
        }

        .bearish-factor {
            background: #fce8e8;
            color: #e74c3c;
            border-left: 3px solid #e74c3c;
        }

        .neutral-factor {
            background: #f0f0f0;
            color: #7f8c8d;
            border-left: 3px solid #95a5a6;
        }

        .risk-assessment {
            background: #f8f9fa;
            padding: 25px;
            margin: 30px;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
        }

        .risk-level {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            margin: 10px 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .risk-low {
            background: #d5f4e6;
            color: #27ae60;
            border: 2px solid transparent;
        }

        .risk-medium {
            background: #fef9e7;
            color: #f39c12;
            border: 2px solid transparent;
        }

        .risk-high {
            background: #fadbd8;
            color: #e74c3c;
            border: 2px solid transparent;
        }

        .risk-level.selected {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .supply-demand-calculator {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            margin: 30px;
            border-radius: 12px;
        }

        .calculator-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .calculator-column {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
        }

        .column-title {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .factor-input {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }

        .factor-input input[type="checkbox"] {
            margin-right: 8px;
            transform: scale(0.9);
        }

        .result-display {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .submit-section {
            padding: 30px;
            text-align: center;
            background: #f8f9fa;
        }

        .submit-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .submit-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .submit-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .warning-message {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }

        .trade-summary {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 30px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
            display: none;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .summary-label {
            font-weight: 600;
            color: #2c3e50;
        }

        .summary-value {
            color: #7f8c8d;
        }

        .supply-demand-score {
            font-weight: bold;
            font-size: 16px;
        }

        .bullish-score {
            color: #27ae60;
        }

        .bearish-score {
            color: #e74c3c;
        }

        .neutral-score {
            color: #f39c12;
        }

        @media (max-width: 600px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .checklist-section, .risk-assessment, .submit-section {
                padding: 20px;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🛫 交易起飞前检查清单</h1>
            <p>基于供需分析的专业交易系统</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <p id="progressText">完成进度: 0/17</p>
        </div>

        <div class="supply-demand-calculator">
            <div class="calculator-title">📊 市场供需分析计算器</div>
            <div class="calculator-grid">
                <div class="calculator-column">
                    <div class="column-title">🟢 利好因素（买方↑/卖方↓）</div>
                    <div id="bullishFactors">
                        <div class="factor-input">
                            <input type="checkbox" id="bull1" data-weight="3">
                            <label for="bull1">重大利好消息</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bull2" data-weight="2">
                            <label for="bull2">资金流入增加</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bull3" data-weight="2">
                            <label for="bull3">空头回补</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bull4" data-weight="1">
                            <label for="bull4">技术面突破</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bull5" data-weight="1">
                            <label for="bull5">机构增持</label>
                        </div>
                    </div>
                </div>
                <div class="calculator-column">
                    <div class="column-title">🔴 利空因素（买方↓/卖方↑）</div>
                    <div id="bearishFactors">
                        <div class="factor-input">
                            <input type="checkbox" id="bear1" data-weight="3">
                            <label for="bear1">重大利空消息</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bear2" data-weight="2">
                            <label for="bear2">资金流出明显</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bear3" data-weight="2">
                            <label for="bear3">多头平仓</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bear4" data-weight="1">
                            <label for="bear4">技术面破位</label>
                        </div>
                        <div class="factor-input">
                            <input type="checkbox" id="bear5" data-weight="1">
                            <label for="bear5">机构减持</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="result-display">
                <div>供需平衡得分: <span id="supplyDemandScore" class="neutral-score">0</span></div>
                <div id="supplyDemandAnalysis">请分析当前市场供需情况</div>
            </div>
        </div>

        <div class="checklist-section">
            <div class="section-title">📊 市场分析检查</div>
            
            <div class="checklist-item" data-id="1">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">确认市场趋势方向</div>
                    <div class="item-description">通过日线、周线确认主要趋势，避免逆势交易</div>
                    <div class="supply-demand-analysis">
                        <div class="supply-demand-title">供需逻辑:</div>
                        <div class="factor-list">
                            <div class="factor-item bullish-factor">上升趋势 → 买方力量 > 卖方力量</div>
                            <div class="factor-item bearish-factor">下降趋势 → 卖方力量 > 买方力量</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checklist-item" data-id="2">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">完成供需分析计算</div>
                    <div class="item-description">使用上方计算器分析当前标的的供需平衡</div>
                    <div class="supply-demand-analysis">
                        <div class="supply-demand-title">判断标准:</div>
                        <div class="factor-list">
                            <div class="factor-item bullish-factor">得分 > +3 → 供不应求，看涨</div>
                            <div class="factor-item neutral-factor">-3 到 +3 → 供需平衡，观望</div>
                            <div class="factor-item bearish-factor">得分 < -3 → 供过于求，看跌</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checklist-item" data-id="3">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">检查关键支撑/阻力位</div>
                    <div class="item-description">标记重要的价格水平，评估入场点与这些位置的关系</div>
                    <div class="supply-demand-analysis">
                        <div class="supply-demand-title">供需转换点:</div>
                        <div class="factor-list">
                            <div class="factor-item bullish-factor">支撑位 → 买方需求集中区</div>
                            <div class="factor-item bearish-factor">阻力位 → 卖方供应集中区</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checklist-item" data-id="4">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">验证技术指标信号</div>
                    <div class="item-description">RSI、MACD、布林带等指标是否支持你的交易决策</div>
                    <div class="supply-demand-analysis">
                        <div class="supply-demand-title">指标含义:</div>
                        <div class="factor-list">
                            <div class="factor-item bullish-factor">RSI低位金叉 → 买方开始占优</div>
                            <div class="factor-item bearish-factor">RSI高位死叉 → 卖方开始占优</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checklist-item" data-id="5">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">检查成交量确认</div>
                    <div class="item-description">价格变动是否得到成交量的支持，避免低量假突破</div>
                    <div class="supply-demand-analysis">
                        <div class="supply-demand-title">量价关系:</div>
                        <div class="factor-list">
                            <div class="factor-item bullish-factor">放量上涨 → 买方力量强劲</div>
                            <div class="factor-item bearish-factor">放量下跌 → 卖方力量强劲</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-title">💰 风险管理检查</div>

            <div class="checklist-item" data-id="6">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">计算风险回报比</div>
                    <div class="item-description">确保风险回报比至少为1:2，理想情况下1:3或更高</div>
                </div>
            </div>

            <div class="checklist-item" data-id="7">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">设定止损位置</div>
                    <div class="item-description">明确止损点位，确保单笔亏损不超过账户总额的2%</div>
                </div>
            </div>

            <div class="checklist-item" data-id="8">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">确认仓位大小</div>
                    <div class="item-description">根据止损距离和账户规模计算合适的仓位大小</div>
                </div>
            </div>

            <div class="checklist-item" data-id="9">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">检查总风险敞口</div>
                    <div class="item-description">所有持仓的总风险不应超过账户总额的6%</div>
                </div>
            </div>

            <div class="section-title">🧠 心理状态检查</div>

            <div class="checklist-item" data-id="10">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">评估当前情绪状态</div>
                    <div class="item-description">确认没有受到FOMO、恐惧或贪婪情绪的影响</div>
                </div>
            </div>

            <div class="checklist-item" data-id="11">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">回顾交易计划</div>
                    <div class="item-description">这笔交易是否符合你的既定交易策略和计划</div>
                </div>
            </div>

            <div class="checklist-item" data-id="12">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">确认没有报复性交易</div>
                    <div class="item-description">确保这不是为了弥补之前亏损的冲动交易</div>
                </div>
            </div>

            <div class="section-title">⚡ 执行前最后检查</div>

            <div class="checklist-item" data-id="13">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">核对交易代码和方向</div>
                    <div class="item-description">再次确认买入/卖出方向和具体交易标的</div>
                </div>
            </div>

            <div class="checklist-item" data-id="14">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">检查订单类型</div>
                    <div class="item-description">确认使用市价单、限价单还是条件单</div>
                </div>
            </div>

            <div class="checklist-item" data-id="15">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">确认交易时间</div>
                    <div class="item-description">避开重要经济数据发布或市场开盘/收盘的波动时段</div>
                </div>
            </div>

            <div class="checklist-item" data-id="16">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">做好交易记录准备</div>
                    <div class="item-description">准备记录交易理由、截图图表，便于后续复盘</div>
                </div>
            </div>

            <div class="checklist-item" data-id="17">
                <div class="checkbox"></div>
                <div class="item-content">
                    <div class="item-title">最终供需确认</div>
                    <div class="item-description">根据所有分析，确认当前供需关系与交易方向一致</div>
                </div>
            </div>
        </div>

        <div class="risk-assessment">
            <div class="section-title">⚠️ 风险等级评估</div>
            <p style="margin-bottom: 15px; color: #7f8c8d; font-size: 14px;">基于当前市场环境和个人判断，评估这笔交易的总体风险等级：</p>
            <div class="risk-level risk-low" data-risk="low">低风险 - 稳健机会</div>
            <div class="risk-level risk-medium" data-risk="medium">中等风险 - 正常交易</div>
            <div class="risk-level risk-high" data-risk="high">高风险 - 谨慎操作</div>
        </div>

        <div class="trade-summary" id="tradeSummary">
            <div class="section-title">📋 交易摘要</div>
            <div class="summary-item">
                <span class="summary-label">检查完成度:</span>
                <span class="summary-value" id="summaryProgress">0/17</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">供需得分:</span>
                <span class="summary-value" id="summarySupplyDemand">未计算</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">风险等级:</span>
                <span class="summary-value" id="summaryRisk">未选择</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">交易状态:</span>
                <span class="summary-value" id="summaryStatus">准备中</span>
            </div>
        </div>

        <div class="submit-section">
            <button class="submit-button" id="submitButton" disabled>✈️ 确认起飞 - 执行交易</button>
            <div class="warning-message" id="warningMessage">
                ⚠️ 请完成所有检查项目、计算供需得分并选择风险等级后再执行交易
            </div>
        </div>
    </div>

    <script>
        let completedItems = new Set();
        let selectedRisk = null;
        let supplyDemandScore = 0;

        const checklistItems = document.querySelectorAll('.checklist-item');
        const submitButton = document.getElementById('submitButton');
        const warningMessage = document.getElementById('warningMessage');
        const tradeSummary = document.getElementById('tradeSummary');
        const riskLevels = document.querySelectorAll('.risk-level');

        // 供需分析计算
        function calculateSupplyDemandScore() {
            let bullishScore = 0;
            let bearishScore = 0;

            // 计算利好因素
            document.querySelectorAll('#bullishFactors input[type="checkbox"]:checked').forEach(checkbox => {
                bullishScore += parseInt(checkbox.dataset.weight);
            });

            // 计算利空因素
            document.querySelectorAll('#bearishFactors input[type="checkbox"]:checked').forEach(checkbox => {
                bearishScore += parseInt(checkbox.dataset.weight);
            });

            supplyDemandScore = bullishScore - bearishScore;
            
            const scoreElement = document.getElementById('supplyDemandScore');
            const analysisElement = document.getElementById('supplyDemandAnalysis');
            
            scoreElement.textContent = supplyDemandScore;
            
            // 更新样式和文字
            scoreElement.className = 'supply-demand-score';
            if (supplyDemandScore > 3) {
                scoreElement.classList.add('bullish-score');
                analysisElement.textContent = '供不应求，看涨信号强烈';
            } else if (supplyDemandScore < -3) {
                scoreElement.classList.add('bearish-score');
                analysisElement.textContent = '供过于求，看跌信号强烈';
            } else {
                scoreElement.classList.add('neutral-score');
                analysisElement.textContent = '供需平衡，观望为主';
            }

            // 更新交易摘要
            document.getElementById('summarySupplyDemand').textContent = 
                supplyDemandScore > 3 ? `${supplyDemandScore} (看多)` : 
                supplyDemandScore < -3 ? `${supplyDemandScore} (看空)` : 
                `${supplyDemandScore} (观望)`;

            updateProgress();
        }

        // 更新进度
        function updateProgress() {
            const totalItems = 17;
            const completedCount = completedItems.size;
            const progress = (completedCount / totalItems) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `完成进度: ${completedCount}/${totalItems}`;
            document.getElementById('summaryProgress').textContent = `${completedCount}/${totalItems}`;
            
            // 更新交易摘要显示
            if (completedCount > 0 || selectedRisk || supplyDemandScore !== 0) {
                tradeSummary.style.display = 'block';
            }
            
            checkSubmitButton();
        }

        // 检查提交按钮状态
        function checkSubmitButton() {
            const allItemsCompleted = completedItems.size === 17;
            const riskSelected = selectedRisk !== null;
            const supplyDemandCalculated = Math.abs(supplyDemandScore) > 0;
            
            if (allItemsCompleted && riskSelected && supplyDemandCalculated) {
                submitButton.disabled = false;
                warningMessage.style.display = 'none';
                document.getElementById('summaryStatus').textContent = '准备就绪';
                document.getElementById('summaryStatus').style.color = '#27ae60';
            } else {
                submitButton.disabled = true;
                warningMessage.style.display = 'block';
                document.getElementById('summaryStatus').textContent = '准备中';
                document.getElementById('summaryStatus').style.color = '#7f8c8d';
            }
        }

        // 检查清单项目点击事件
        checklistItems.forEach(item => {
            item.addEventListener('click', function() {
                const itemId = this.getAttribute('data-id');
                
                if (completedItems.has(itemId)) {
                    completedItems.delete(itemId);
                    this.classList.remove('completed');
                } else {
                    completedItems.add(itemId);
                    this.classList.add('completed');
                }
                
                updateProgress();
            });
        });

        // 风险等级选择
        riskLevels.forEach(level => {
            level.addEventListener('click', function() {
                riskLevels.forEach(l => l.classList.remove('selected'));
                this.classList.add('selected');
                selectedRisk = this.getAttribute('data-risk');
                
                const riskText = {
                    'low': '低风险',
                    'medium': '中等风险',
                    'high': '高风险'
                };
                
                document.getElementById('summaryRisk').textContent = riskText[selectedRisk];
                updateProgress();
            });
        });

        // 供需分析事件监听
        document.querySelectorAll('#bullishFactors input, #bearishFactors input').forEach(input => {
            input.addEventListener('change', calculateSupplyDemandScore);
        });

        // 提交按钮点击事件
        submitButton.addEventListener('click', function() {
            if (!submitButton.disabled) {
                const riskMessages = {
                    'low': '这是一个低风险交易机会，建议按计划执行',
                    'medium': '这是一个中等风险交易，请保持警惕并严格执行止损',
                    'high': '⚠️ 高风险交易！建议减少仓位或重新评估交易计划'
                };
                
                const supplyDemandMessage = 
                    supplyDemandScore > 3 ? '当前供需分析支持看多方向' :
                    supplyDemandScore < -3 ? '当前供需分析支持看空方向' :
                    '当前供需平衡，建议谨慎操作';

                alert(`🎯 交易检查完成！

📊 供需分析: ${supplyDemandMessage}
⚠️ ${riskMessages[selectedRisk]}

请再次确认所有参数后执行交易。
记住：纪律 > 情绪，计划 > 冲动！`);
                
                // 这里可以添加实际的交易执行逻辑
                console.log('交易参数已确认，准备执行交易...');
                console.log('供需得分:', supplyDemandScore);
            }
        });

        // 添加键盘快捷键支持
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                e.preventDefault();
                if (!submitButton.disabled) {
                    submitButton.click();
                }
            }
        });

        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            calculateSupplyDemandScore();
        });
    </script>
</body>
</html>